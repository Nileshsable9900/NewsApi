(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{203:function(e,t,n){Promise.resolve().then(n.bind(n,3069))},8930:function(e,t,n){"use strict";n.d(t,{I:function(){return o},db:function(){return l}});var r=n(994),s=n(3085),a=n(4086),i=(0,r.ZF)({apiKey:"AIzaSyAfqPdM54aBRjZzECKmTeqAcSERXFEqlr8",authDomain:"authenticator-85102.firebaseapp.com",projectId:"authenticator-85102",storageBucket:"authenticator-85102.appspot.com",messagingSenderId:"594122394192",appId:"1:594122394192:web:ea4a9089445b11a5215f55"}),o=(0,s.v0)(i),l=(0,a.ad)(i)},3069:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var r=n(7437),s=n(6652),a=n.n(s);n(3177),n(6518);var i=n(64),o=n(5029),l=n(8965),u=(0,i.oM)({name:"userAuthentication",initialState:window.localStorage&&JSON.parse(localStorage.getItem("user"))||{user:null,isAuth:!1,userInfo:null},reducers:{LOGIN:function(e,t){var n={user:t.payload,isAuth:!0};return localStorage.setItem("user",JSON.stringify(n)),n},LOGOUT:function(e,t){var n={user:null,isAuth:!1,userInfo:null};return localStorage.setItem("user",JSON.stringify(n)),n},SET_USER_INFO:function(e,t){var n=(0,l._)((0,o._)({},e),{userInfo:t.payload});return localStorage.setItem("user",JSON.stringify(n)),n}}}),c=u.actions,d=c.LOGIN,f=c.LOGOUT,m=c.SET_USER_INFO,g=u.reducer,S=n(4447),p=(0,i.xC)({reducer:{user:g,news:S.ZP}}),h=n(3198),N=n(6687),v=n(44);n(2265);var O=n(6691),E=n.n(O),y=n(171),I=n(8930),x=n(4086),w=n(3085),_=function(){var e,t,n=(0,h.I0)(),s=(0,h.v9)(function(e){return e.user}),a=new w.hJ,i=(e=(0,N._)(function(e,t){var r,s;return(0,v.Jh)(this,function(a){switch(a.label){case 0:return r=(0,x.JU)(I.db,"users",e),[4,(0,x.QT)(r)];case 1:if(!(s=a.sent()).exists())return[3,2];return n(m(s.data())),y.Am.success("Welcome Back, ".concat(t.split(" ")[0],"!")),[3,5];case 2:return a.trys.push([2,4,,5]),[4,(0,x.pl)((0,x.JU)(I.db,"users",e),{name:t,email:e})];case 3:return a.sent(),n(m({name:t,email:e})),y.Am.success("Welcome Back, ".concat(t.split(" ")[0],"!")),[3,5];case 4:return console.log(a.sent()),y.Am.error("Error: Something Went Wrong!"),[3,5];case 5:return[2]}})}),function(t,n){return e.apply(this,arguments)});return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex justify-between items-center mt-0 bg-black w-full px-6 py-4",children:[(0,r.jsx)("h1",{className:"text-lg font-extrabold italic text-lime-500",children:"NEWS-ify"}),(null==s?void 0:s.isAuth)?(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(E(),{src:null==s?void 0:null===(t=s.user)||void 0===t?void 0:t.photoURL,alt:"dp",width:30,height:30,className:"rounded-full mr-2"}),(0,r.jsx)("button",{onClick:function(){var e,t;n(f()),y.Am.success("See you again, ".concat(null==s?void 0:null===(t=s.user)||void 0===t?void 0:null===(e=t.displayName)||void 0===e?void 0:e.split(" ")[0],"!"))},className:"px-4 py-1 rounded-md bg-lime-200 text-xs md:text-sm",children:"Logout"})]}):(0,r.jsx)("button",{onClick:function(){(0,w.rh)(I.I,a).then(function(e){var t=e.user,r=t.email,s=t.displayName;n(d({email:r,displayName:s,photoURL:t.photoURL})),i(r,s)}).catch(function(e){console.log("Error ===> ",e),y.Am.error("Error: Something Went Wrong!")})},className:"px-4 py-1 rounded-md bg-lime-200 text-xs md:text-sm",children:"Login"})]})})};function A(e){var t=e.children;return(0,r.jsx)("html",{lang:"en",children:(0,r.jsxs)("body",{className:a().className,children:[(0,r.jsx)(y.Ix,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!1,draggable:!0,pauseOnHover:!1}),(0,r.jsxs)(h.zt,{store:p,children:[(0,r.jsx)(_,{}),t]})]})})}},4447:function(e,t,n){"use strict";n.d(t,{CG:function(){return f},KT:function(){return u},aX:function(){return c},dW:function(){return d},gM:function(){return l}});var r=n(5029),s=n(8965),a=n(1801),i=(0,n(64).oM)({name:"newsData",initialState:window.localStorage&&JSON.parse(localStorage.getItem("news"))||{news:null,savedNews:null,displayGrid:!1,isDialog:!1,dialogData:null},reducers:{STORENEWSDATA:function(e,t){var n=(0,s._)((0,r._)({},e),{news:t.payload});return localStorage.setItem("news",JSON.stringify(n)),n},STORESAVEDNEWS:function(e,t){var n=(0,s._)((0,r._)({},e),{savedNews:t.payload});return localStorage.setItem("news",JSON.stringify(n)),n},TOGGLEVIEW:function(e,t){var n=(0,s._)((0,r._)({},e),{displayGrid:!e.displayGrid});return localStorage.setItem("news",JSON.stringify(n)),n},TOGGLEDIALOG:function(e,t){var n=(0,s._)((0,r._)({},e),{isDialog:!e.isDialog,dialogData:t.payload});return localStorage.setItem("news",JSON.stringify(n)),n},TOGGLESAVEDNEWS:function(e,t){var n=t.payload,i=e.savedNews||[];if(-1===i.findIndex(function(e){return e.title===n.title})){var o=(0,a._)(i).concat([n]),l=(0,s._)((0,r._)({},e),{savedNews:o});return localStorage.setItem("news",JSON.stringify(l)),l}var u=i.filter(function(e){return e.title!==n.title}),c=(0,s._)((0,r._)({},e),{savedNews:u});return localStorage.setItem("news",JSON.stringify(c)),c}}}),o=i.actions,l=o.STORENEWSDATA,u=o.STORESAVEDNEWS,c=o.TOGGLEVIEW,d=o.TOGGLEDIALOG,f=o.TOGGLESAVEDNEWS;t.ZP=i.reducer},3177:function(){}},function(e){e.O(0,[358,487,48,25,971,596,744],function(){return e(e.s=203)}),_N_E=e.O()}]);